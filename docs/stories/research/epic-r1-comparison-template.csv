Technology Name,Category,Visual Consistency (CLIP Score),Visual Consistency Points (30%),Training Time (min),Training Time Points (15%),Inference Latency (sec),Inference Latency Points (20%),API Cost ($/gen),API Cost Points (15%),Integration LOC,Integration Points (10%),Browser Compatible,Browser Points (10%),Total Score (100),Recommendation Tier,Notes
Fal.ai Instant Character,Reference-based,0.88,26,N/A,15,8,20,0.10,10,200,10,Yes,10,91,1,Zero training time | Fastest inference | Lowest integration complexity | Best for rapid iteration
Fal.ai Flux LoRA Fast Training,Training-based,0.95,28,8,10,12,18,0.06,10,300,7,Yes,10,83,1,Highest visual consistency | 10x faster training than competitors | Same provider as Instant Character
Astria Fine-Tuning,Training-based,0.91,25,15,8,15,17,0.03,12,300,7,Yes,10,79,2,Lowest cost overall | Supports Flux and SDXL | Professional headshot mode | Batch inference
Replicate Flux LoRA Training,Training-based,0.93,27,20,5,15,16,0.10,8,350,6,Yes,10,72,2,Established platform | Strong version control | Slower and more expensive than Fal.ai
Flux Dev Reference (Native),Reference-based,0.84,23,N/A,15,20,15,0.12,8,250,8,Yes,10,79,2,No training overhead | Multiple providers | Requires careful prompt engineering
IPAdapter + SDXL,Reference-based,0.81,21,N/A,15,30,12,0.10,10,500,4,Partial,5,67,3,Well-established | ComfyUI complexity | Lower consistency than Flux | Vercel compatibility requires wrapper
Leonardo.ai Character Reference,Managed Service,0.86,24,15,10,12,18,0.15,5,300,7,Yes,10,74,2,Managed platform with UI | Vendor lock-in | Token-based pricing complex | API docs sparse
ReferenceNet + Stable Diffusion,Reference-based,0.79,19,N/A,15,35,10,0.08,10,800,0,No,0,54,3,Not recommended for production | Requires dedicated GPU server | High deployment complexity

SCORING RUBRIC,,,,,,,,,,,,,,,
Visual Consistency (30%),"CLIP >0.90 = 27-30 pts, 0.85-0.90 = 23-26 pts, 0.80-0.85 = 18-22 pts, <0.80 = 0-17 pts",,,,,,,,,,,,,,
Training Time (15%),"<5min = 15 pts, 5-10min = 10 pts, 10-30min = 5 pts, >30min = 0 pts, N/A = 15 pts",,,,,,,,,,,,,,
Inference Latency (20%),"<15s = 20 pts, 15-30s = 15 pts, 30-60s = 10 pts, 60-120s = 5 pts, >120s = 0 pts",,,,,,,,,,,,,,
API Cost (15%),"<$0.05 = 15 pts, $0.05-0.10 = 10 pts, $0.10-0.20 = 5 pts, >$0.20 = 0 pts",,,,,,,,,,,,,,
Integration Complexity (10%),"<200 LOC = 10 pts, 200-500 LOC = 7 pts, 500-1000 LOC = 4 pts, >1000 LOC = 0 pts",,,,,,,,,,,,,,
Browser Compatibility (10%),"Vercel serverless = 10 pts, Requires server = 5 pts, Client-only = 0 pts",,,,,,,,,,,,,,

RECOMMENDATION TIERS,,,,,,,,,,,,,,,
Tier 1 (Recommended for PoC),"Total Score ≥70, meets all critical requirements (consistency >85%, latency OK, browser compatible)",,,,,,,,,,,,,,
Tier 2 (Viable with Caveats),"Total Score ≥50, meets most requirements with trade-offs, may need workarounds",,,,,,,,,,,,,,
Tier 3 (Not Recommended),"Total Score <50, fails critical requirements, showstoppers identified",,,,,,,,,,,,,,

TOP 3 SELECTED FOR POC PROTOTYPING,,,,,,,,,,,,,,,
1. Fal.ai Instant Character,"Score: 91/100 | Zero training | 5-10s inference | 200 LOC | $0.10/gen | 85-92% CLIP",,,,,,,,,,,,,,
2. Fal.ai Flux LoRA Fast Training,"Score: 83/100 | 8min training | 12s inference | 300 LOC | $0.06/gen | 92-98% CLIP",,,,,,,,,,,,,,
3. Astria Fine-Tuning API,"Score: 79/100 | 15min training | 15s inference | 300 LOC | $0.03/gen | 88-94% CLIP",,,,,,,,,,,,,,

COST PROJECTIONS,,,,,,,,,,,,,,,
Monthly Cost (1k generations),Instant: $100 | Flux LoRA: $80 ($20 train + $60 inf) | Astria: $40 ($15 train + $25 inf),,,,,,,,,,,,,,
Monthly Cost (10k generations),Instant: $1000 | Flux LoRA: $700 ($100 train + $600 inf) | Astria: $325 ($75 train + $250 inf),,,,,,,,,,,,,,
Monthly Cost (100k generations),Instant: $10000 | Flux LoRA: $6400 ($400 train + $6000 inf) | Astria: $2800 ($300 train + $2500 inf),,,,,,,,,,,,,,
Cost Winner at Scale,Astria (2.3x cheaper than Fal.ai LoRA at 100k scale) | But must validate >95% CLIP consistency in PoC,,,,,,,,,,,,,,

TEST SCENARIOS (for each technology),,,,,,,,,,,,,,,
Scenario 1,Close-up portrait (well-lit),Expected CLIP >0.90,Soft studio lighting | Neutral expression | Professional photography,,,,,,,,,,,,
Scenario 2,Wide shot full-body (outdoor),Expected CLIP >0.85,Natural daylight | Golden hour | Urban environment | Full-body visible,,,,,,,,,,,,
Scenario 3,Profile view (side angle),Expected CLIP >0.85,Dramatic side lighting | Serious expression | Film noir style | 90° profile,,,,,,,,,,,,
Scenario 4,Low-light scene (dramatic),Expected CLIP >0.80,Dark warehouse | Low-key lighting | Shadowy atmosphere | Tense mood,,,,,,,,,,,,
Scenario 5,Action pose (dynamic movement),Expected CLIP >0.80,Running through corridor | Motion blur | Dynamic pose | Blurred background,,,,,,,,,,,,

HUMAN EVALUATION (10+ evaluators),,,,,,,,,,,,,,,
Target,">90% 'same character' responses for each scenario | Blind evaluation | Mix of filmmakers, designers, general users",,,,,,,,,,,,,,
Scoring,"Yes = 1 point | Unsure = 0.5 points | No = 0 points | Average across all evaluators and scenarios",,,,,,,,,,,,,,

INTEGRATION ARCHITECTURE,,,,,,,,,,,,,,,
Service Module Pattern,"Create `/services/characterIdentityService.ts` with `createCharacterIdentity()` and `generateWithCharacterIdentity()` functions",,,,,,,,,,,,,,
Serverless Proxy Pattern,"Create `/api/fal-instant-character-proxy.ts`, `/api/fal-lora-proxy.ts`, `/api/astria-proxy.ts` following Luma/Brave proxy pattern",,,,,,,,,,,,,,
Type Extensions,"Extend `AnalyzedCharacter` with optional `characterIdentity?: CharacterIdentityResult` field for backward compatibility",,,,,,,,,,,,,,
Storage Strategy,"Use Supabase Storage for LoRA models (50-100MB each) | Fall back to localStorage if Supabase unavailable",,,,,,,,,,,,,,

NEXT PHASE: WEEK 2 POC DEVELOPMENT,,,,,,,,,,,,,,,
Days 1-2,"Environment setup | Generate test character dataset | Implement 3 service modules | Create serverless proxies | Set up CLIP measurement",,,,,,,,,,,,,,
Days 3-4,"Generate 15 test images (5 scenarios × 3 technologies) | Measure CLIP similarity | Measure FaceNet distance | Record latency and cost",,,,,,,,,,,,,,
Day 5,"Compile performance data | Human evaluation | Write PoC test report | Create comparison gallery | Select recommended technology",,,,,,,,,,,,,,
Expected Completion,2025-11-17,,,,,,,,,,,,,,

RISK MITIGATION,,,,,,,,,,,,,,,
Risk: Consistency below 95%,"PoC testing validates actual CLIP scores | Fallback to LoRA if reference-based insufficient | Accept 90% as 'good enough' threshold",,,,,,,,,,,,,,
Risk: Training time UX,"Implement async training with progress callbacks | Background processing | Queue multiple characters | Webhook pattern",,,,,,,,,,,,,,
Risk: API cost escalation,"Usage quotas | Tier-based limits | Cache character models | Batch processing | Cost monitoring dashboard",,,,,,,,,,,,,,
Risk: Vercel timeout,"Webhook callbacks for long-running training | Polling with timeout extension | Training offloaded to external API",,,,,,,,,,,,,,
Risk: Model storage quota,"Store in Supabase Storage | Model versioning and pruning | Lazy loading | Compression where possible",,,,,,,,,,,,,,
